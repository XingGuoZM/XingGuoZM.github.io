{"version":3,"file":"article/index.js","mappings":"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","sources":["webpack://xingguozm.github.io/./src/article.tsx","webpack://xingguozm.github.io/./src/pages/Article/components/ArticleList/index.tsx","webpack://xingguozm.github.io/./src/pages/Article/components/ArticleList/作用域.tsx","webpack://xingguozm.github.io/./src/pages/Article/components/ArticleList/原型链.tsx","webpack://xingguozm.github.io/./src/pages/Article/components/Header/index.tsx","webpack://xingguozm.github.io/./src/pages/Article/index.tsx","webpack://xingguozm.github.io/./src/pages/Article/components/Header/index.less","webpack://xingguozm.github.io/./src/pages/Article/index.module.less","webpack://xingguozm.github.io/./src/pages/Article/components/Header/index.less?72eb","webpack://xingguozm.github.io/./src/pages/Article/index.module.less?a021","webpack://xingguozm.github.io/webpack/bootstrap","webpack://xingguozm.github.io/webpack/runtime/chunk loaded","webpack://xingguozm.github.io/webpack/runtime/compat get default export","webpack://xingguozm.github.io/webpack/runtime/define property getters","webpack://xingguozm.github.io/webpack/runtime/hasOwnProperty shorthand","webpack://xingguozm.github.io/webpack/runtime/make namespace object","webpack://xingguozm.github.io/webpack/runtime/jsonp chunk loading","webpack://xingguozm.github.io/webpack/before-startup","webpack://xingguozm.github.io/webpack/startup","webpack://xingguozm.github.io/webpack/after-startup"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Article from '@/pages/Article';\nimport './index.less'\n\nexport default function App() {\n  return <div className='app'>\n    <Article />\n  </div>\n}\n\nReactDOM.render(\n  <App />,\n  document.querySelector('#root')\n);","\n  import React, { ReactElement } from 'react';\n  import 作用域 from './作用域';\nimport 原型链 from './原型链';\n\n  const compKeys = ['作用域','原型链'];\n  const CompMap: {[key: string]: ReactElement} = {\n    '0000': <作用域 />,'0001': <原型链 />\n  }\n  \n  export default ()=> {\n    const id = location.search.split('=')[1]\n    \n    return (\n      <div>\n        {CompMap[id]}\n      </div>\n    );\n  }","\n  import React,{useEffect} from 'react';\n \n  import 'highlight.js/styles/xcode.css';\n  const hljs = require('highlight.js');\n\n  export default () => {\n    useEffect(()=>{\n      document.querySelectorAll('code').forEach(el => {\n        el.style.backgroundColor='#f8f8f8';\n        hljs.highlightElement(el);\n      });\n    },[])\n    return <div style={{fontSize:'0.26rem'}} dangerouslySetInnerHTML={{__html:`<h1>作用域</h1>\n<h3>关键词</h3>\n<ul>\n<li>var、let/const、变量提升、暂时性死区</li>\n<li>词法作用域、执行上下文</li>\n<li>闭包</li>\n<li>函数、方法、IIFE、模块</li>\n</ul>\n<p>作用域是变量/常量的访问规则，或者说是变量/常量的影响范围，通过指定作用域的类型来分配变量的访问权限，例如函数作用域只在函数代码块内生效，全局作用域在全局任何地方都能访问。作用域类型即变量访问权限分配规则</p>\n<p>作用域链：在多层嵌套的父子作用域中，提供变量查找的渠道。</p>\n<h3>var变量提升</h3>\n<p>关键词：词法环境、块作用域、暂时死区</p>\n<p>变量的声明周期：创建、初始化、赋值、引用、销毁。变量提升相关的三个阶段是创建、初始化和赋值</p>\n<p>var变量提升：创建和初始化（undefined）是被提升的，赋值不是\nlet变量提升：创建是被提升的（存入暂时性死区），初始化和赋值不是\nfunction变量提升：创建、初始化和赋值同时被提升</p>\n<p>var定义变量特点</p>\n<ol>\n<li>变量提升：在任何时候都会在执行代码之前处理变量声明，var变量声明是编译时</li>\n<li>变量同名覆盖：var可以重复声明赋值，后面会覆盖前面</li>\n<li>全局使用var定义的变量会成为window的属性</li>\n<li>只认函数作用域和全局作用域</li>\n</ol>\n<p>块作用域\n词法环境：当执行代码块（{}包裹的代码）时会创建一个词法环境，与全局环境形成嵌套，词法环境里包含环境记录。而我们的let定义的变量就存放在这个词法环境中。let在多个块作用域中声明变量时，js会创建单独的区域由词法环境为这些变量维护一个类似栈的结构，所以同名的let变量在不同的代码块中声明是不会冲突的。即词法环境是执行上下文的另一个组件</p>\n<p>es6的let和const声明的变量在代码执行开始到声明之前，变量都处于暂时性死区（Temporal dead zone，TDZ）之中。暂时性死区是代码执行时，一段从当前作用域开始到使用let/const声明变量/常量行之前的区域，在这段区域中变量尚未被初始化，如果在这期间尝试访问变量将会抛出ReferenceError。例如</p>\n<pre><code class=\"language-js\">// TDZ，开始\nconsole.log(a);// undefined\nconsole.log(b);//RefernceError\nvar a = 1\nlet b = 2; // TDZ，结束(b)\n</code></pre>\n<p>let声明的变量将作用域限制在块作用域内，在代码没有执行到它的初始化语句之前，它仍然存在于TDZ中</p>\n<pre><code class=\"language-js\">function foo(){\n  var a = 1;\n  if(a){\n    let a = a + 1; // ReferenceError\n  }\n}\nfoo();\n</code></pre>\n<pre><code class=\"language-js\">function bar(n){\n  console.log(n); // {a:[1,2,3]}\n  for(let n of n.a){// ReferenceError\n    console.log(n);\n  }\n}\nbar({a: [1,2,3]})\n</code></pre>\n<p>let定义变量的特点</p>\n<ol>\n<li>存在暂时性死区，死区内访问变量会报错</li>\n<li>不能重复命名，存在重复命名会报错</li>\n<li>在块作用域中生效</li>\n</ol>\n<h3>函数作用域</h3>\n<p>创建函数有多种方式</p>\n<ol>\n<li>函数表达式</li>\n<li>function关键词</li>\n<li>箭头函数表达式（lamada函数）和自执行函数表达式（IIFE）</li>\n</ol>\n<p>函数作用域</p>\n<h3>模块</h3>\n<p>模块化的重要意义即拆分，作用域拆分，变量的影响</p>\n<h3>var 函数作用域/全局作用域</h3>\n<pre><code class=\"language-js\">if(! &quot;a&quot; in window){\n    var a = 1;\n}\nconsole.log(a);\n</code></pre>\n<pre><code class=\"language-js\">var a = 1;\nb = 2;\neval('var c = 3');\ndelete a;\ndelete b;\ndelete c;\n</code></pre>\n<h3>function</h3>\n<pre><code class=\"language-js\">(function f () {\n  function f () { return 1; }\n  return f();\n  function f () { return 2; }\n})();\n</code></pre>\n<pre><code class=\"language-js\">(function(x){\n  delete x;\n  return x;    \n}\n)(1);\n</code></pre>\n<h3>var与IIFE</h3>\n<pre><code class=\"language-js\">(function() {\n  var a = b = 5;\n})();   \nconsole.log(b);\nconsole.log(a);\n</code></pre>\n<pre><code class=\"language-js\">var a = 10;\n(function () {\n  console.log(a)\n  a = 5\n  console.log(window.a);\n  var a = 20;\n  console.log(a)\n})()\n</code></pre>\n<pre><code class=\"language-js\">var b = 10;\n(function b() {\n  b = 20;\n  console.log(b)\n})()\n</code></pre>\n<pre><code class=\"language-js\">var foo = &quot;Hello&quot;;\n(function () {\n  var bar = &quot; World&quot;;\n  console.log(foo + bar);\n})();\nconsole.log(foo + bar);\n</code></pre>\n<pre><code class=\"language-js\">// 输出结果\nvar name = 'Tom';\n(function () {\n  if (typeof name === 'undefined') {\n    var name = 'Jack';\n    console.log('Goodbye ' + name)\n  } else {\n    console.log('Hello ' + name);\n  }\n})();\n\n//输出结果\nvar name = 'Tom';\n(function () {\n  if (typeof name === 'undefined') {\n    name = 'Jack';\n    console.log('Goodbye ' + name)\n  } else {\n    console.log('Hello ' + name);\n  }\n})();\n\n</code></pre>\n<pre><code class=\"language-js\">var foo = {n:1};\n(function(foo){\n    console.log(foo.n);\n    foo.n = 3;\n    var foo = {n:2};\n    console.log(foo.n);\n})(foo);\nconsole.log(foo.n);\n</code></pre>\n<h3>变量覆盖</h3>\n<pre><code class=\"language-js\">meili()\nfunction meili () {\n  console.log(&quot;meili&quot;)\n}\nmogu()\nvar mogu = function () {\n  console.log(&quot;mogu&quot;)\n}\n</code></pre>\n<pre><code class=\"language-js\">compute(10, 100);\nvar compute = function (A, B) {\n  console.info(A * B);\n};\nfunction compute (A, B) {\n  console.info(A + B);\n}\nfunction compute (A, B) {\n  console.info((A + B) * 2);\n}\ncompute(2, 10);\n</code></pre>\n<pre><code class=\"language-js\">\ncheck('first');\nfunction check (ars) {\n  console.log(1, ars);\n}\n\ncheck('second');\nvar check = function (ars) {\n  console.log(2, ars);\n}\n</code></pre>\n<h3>异步操作中作用域</h3>\n<pre><code class=\"language-js\">// html\n<ul>\n  <li>1</li>\n  <li>2</li>\n  <li>3</li>\n  <li>4</li>\n</ul>\n// js\nvar elements = document.getElementsByTagName(&quot;li&quot;);\nfor (var i = 0; i < elements.length; i++) {\n  elements[i].onclick = function () {\n    console.log(i);\n  };\n}\n</code></pre>\n<pre><code class=\"language-js\">for (var i = 0; i < 3; i++) {\n  setTimeout(_ => {\n    console.log(i)\n  })\n}\n\nfor (let i = 0; i < 3; i++) {\n  setTimeout(_ => {\n    console.log(i)\n  })\n}\n</code></pre>\n<pre><code class=\"language-js\">for (var i = 0; i< 10; i++){\n   setTimeout(() => {\n    console.log(i);\n   }, 1000)\n}\n\nfor (var i = 0; i< 10; i++){\n  (function(i){\n    setTimeout(() => {\n    console.log(i);\n   }, 1000)\n  })(i)\n}\n\nfor (var i = 0; i< 10; i++){\n  (function(i){\n    setTimeout(() => {\n    console.log(i);\n   }, 1000*i)\n  })(i)\n}\n\nfor (var i = 0; i< 10; i++){\n  setTimeout(() => {\n    (function(i){console.log(i);}(i)\n  }), 1000)\n}\n\nfor (var i = 0; i< 10; i++){\n  setTimeout(() => {\n    console.log(i);\n  }, 1000)\n}\n</code></pre>\n`}}></div>\n  }\n  ","\n  import React,{useEffect} from 'react';\n \n  import 'highlight.js/styles/xcode.css';\n  const hljs = require('highlight.js');\n\n  export default () => {\n    useEffect(()=>{\n      document.querySelectorAll('code').forEach(el => {\n        el.style.backgroundColor='#f8f8f8';\n        hljs.highlightElement(el);\n      });\n    },[])\n    return <div style={{fontSize:'0.26rem'}} dangerouslySetInnerHTML={{__html:`<h1>原型链</h1>\n<h3>关键词</h3>\n<ul>\n<li>__proto__、prototype、constructor</li>\n<li>class、extends、super、new、new.target</li>\n<li>instanceof、Object.create</li>\n<li>Object.getPrototypeOf、Object.setPrototypeOf</li>\n</ul>\n<h3>原型链</h3>\n<p>原型：构造函数和实例对象的连接的纽带，函数和对象的关系（横向），js中原型是继承的基础。每个对象（object）都有一个原型链对象（也叫隐式原型）__proto__（现在__proto__已经废弃，改为使用Object.getPrototypeOf()和Object.setPrototypeOf()来实现），所有构造函数都有一个原型对象prototype</p>\n<p>原型链：对象属性/方法的访问规则，它是顺着对象的隐式原型（__proto__）向上（构造函数）查找，父类和子类以及他们的实例对象之间的关联关系（垂直）。就像我们抽水的时候，水是顺着建好的水管来流动的，水管就是一个水的流动规则，可以向上流，也可以向下流，可以动态的构造水管的走向，自定义规则。原型链、作用域链等也是这样的，我们可以动态修改隐式原型，可以修改__proto__对象的某个属性，也可以重写__proto__对象，也可以通过对象隐式原型访问构造函数。</p>\n<p>原型和原型链组成了对象属性访问的规则网络（横向和纵向二维关系）</p>\n<p>如果原型链中断，会发生什么？</p>\n<p>我们知道可以使用instanceof来检测某个实例对象的原型链上是否存在构造函数的原型对象（prototype）。其实现伪代码如下</p>\n<pre><code class=\"language-js\">function myInstanceof(object,constructor){\n  left = object.__proto__\n  right = constructor.prototype\n  while(true){\n    if(left === null) return false\n    if(left === right) return true\n    left = left.__proto__\n  } \n}\n</code></pre>\n<h3>创建对象的几种方式</h3>\n<p>new关键词和Object.create()都会创建一个对象并返回一个对象，new的过程概括起来有4步,实现伪代码如下</p>\n<pre><code class=\"language-js\">function myNew(constructor){\n  // 第1步，创建一个对象\n  object = {}\n  // 第2步，补齐原型链\n  object.__proto__ = constructor.prototype\n  // 第3步，确保执行上下文对象正确（this）\n  ret = constructor.call(object)\n  // 第4步，返回一个对象\n  return ret || object\n}\n</code></pre>\n<p>Object.create(proto)即以现有对象（proto）作为原型创建一个新的对象。实现伪代码如下</p>\n<pre><code class=\"language-js\">function objectCreate(object){\n  const newObj = {}\n  newObj.__proto__ = object\n  return newObj\n}\n</code></pre>\n<p>我们最常用的是通过字面量来创建对象，即const obj = {}这种方式等价于const obj = Object()</p>\n<p>怎么识别我的对象是通过哪种方式创建的呢？比如我们通过new来创建一个对象，就可以在构造函数中通过new.target来检测这个函数是否作为构造函数通过new来调用的，它指向直接被new执行的构造函数。例如</p>\n<pre><code class=\"language-js\">function Foo() {\n  if (!new.target) throw &quot;Foo() must be called with new&quot;;\n  console.log(&quot;Foo instantiated with new&quot;);\n  console.log(new.target)\n}\n\nFoo(); // throws &quot;Foo() must be called with new&quot;\nnew Foo(); // logs &quot;Foo instantiated with new&quot;\n</code></pre>\n<h3>原型、隐式原型和构造函数(prototype、__proto__、constructor)</h3>\n<p>实例对象、构造函数，父类子类的关联关系总结如下公式</p>\n<pre><code>// 原型：描述了实例对象和构造函数的关联关系\n实例对象.constructor === 构造函数\n实例对象.__proto__ === 构造函数.prototype\n\n// 原型链：描述了构造函数和其祖先构造函数的关联关系\n子类.__proto__ === 父类\n子类.prototype.__proto__ === 父类.prototype\n</code></pre>\n<p>上面的公式等价于下面的例子</p>\n<pre><code class=\"language-js\">class A {}\nclass B extends A {}\n\nconst a = new A();\nconst b = new B();\n\n// a.constructor === A\n// a.__proto__ === A.prototype\n\n// B是一个对象\n// B.__proto__ === A\n// B是一个函数\n// B.prototype.__proto__ === A.prototype\n</code></pre>\n<h3>原型对象属性的操作</h3>\n<pre><code class=\"language-js\">function Fn1 (name) {\n  if (name) {\n    this.name = name;\n  }\n}\nFn1.prototype.name = &quot;jack&quot;\nlet a = new Fn1();\nconsole.log('a:', a.name);\n\nfunction Fn2 (name) {\n  this.name = name;\n}\nFn2.prototype.name = &quot;jack&quot;\nlet b = new Fn2();\nconsole.log('b:', b.name);\n</code></pre>\n<pre><code class=\"language-js\">function Foo () { }\nFoo.prototype.z = 3;\nvar obj = new Foo();\nconsole.info(obj.z)\nobj.z = 10;\nconsole.info(obj.z);\ndelete obj.z;\nconsole.info(obj.z);\n</code></pre>\n<pre><code class=\"language-js\">var tmp = {};\nvar A = function () { };\nA.prototype = tmp;\n\nvar a = new A();\nA.prototype = {};\n\nvar b = Object.create(tmp);\nb.constructor = A.constructor;\n\nconsole.log(a instanceof A);\nconsole.log(b instanceof A);\n</code></pre>\n<pre><code class=\"language-js\">function Person(age){\n  this.age = age;\n}\n\nPerson.prototype = {\n  constructor:Person,\n  getAge:function(){\n    console.log(this.age);\n  },\n }\n\nvar p = new Person(24);\nPerson.prototype.age = 18;\nObject.prototype.age = 20;\np.getAge();\n</code></pre>\n<h3>es6 class get/set</h3>\n<pre><code class=\"language-js\">class Phone{\n  constructor(price){\n    this.price = price;\n  }\n  get price(){\n    return 999;\n  }\n}\nvar p = new Phone(888);\nconsole.log(p.price);\n</code></pre>\n<h3>prototype和__proto__关系</h3>\n<pre><code class=\"language-js\">class A { }\nclass B extends A { }\nconst a = new A()\nconst b = new B()\n\nconsole.log(a.__proto__)\nconsole.log(b.__proto__)\nconsole.log(B.__proto__)\nconsole.log(B.prototype.__proto__)\nconsole.log(b.__proto__.__proto__)\n</code></pre>\n<h3>构造函数和普通函数</h3>\n<pre><code class=\"language-js\">var name = 'Jay'\nfunction Person (name) {\n  this.name = name;\n  console.log(this.name)\n}\nvar a = Person('Tom')\nconsole.log(name)\nconsole.log(a)\nvar b = new Person('Michael')\nconsole.log(b)\n</code></pre>\n<h3>Object.create()实现原理</h3>\n<pre><code class=\"language-js\">const Book = {\n  price: 32\n}\nconst book = Object.create(Book);\nbook.type = 'Math';\ndelete book.price;\ndelete book.type;\nconsole.log(book.price);\nconsole.log(book.type);\n</code></pre>\n<h3>原型链与闭包</h3>\n<pre><code class=\"language-js\">var Foo = (function () {\n  var x = 0;\n  function Foo () { }\n  Foo.prototype.increment = function () {\n    ++x;\n    console.log(x);\n  };\n  return Foo;\n})();\n\nvar a = new Foo();\na.increment();\na.increment();\nvar b = new Foo();\na.increment();\n</code></pre>\n`}}></div>\n  }\n  ","import React, { useEffect, useState } from 'react';\nimport PageHeader from '@/components/PageHeader';\nimport SettingModal from \"@/components/PromisifyModal/SettingModal\";\nimport MoreIcon from '@/assets/more.svg';\nimport GobackIcon from '@/assets/goback.svg';\nimport Modal from \"@/components/PromisifyModal\";\nimport classnames from 'classnames';\nimport { data } from '@/data';\nimport './index.less';\n\nexport default function Header({ scroller }) {\n  const [fixed, setFixed] = useState(false);\n  const handleGoback = () => {\n    window.location.href = `https://xingguozm.github.io?backurl=${window.location.href}`\n  }\n  const openSettingModal = () => {\n    Modal.show(SettingModal, { data: data.theme });\n  }\n  useEffect(() => {\n    window.addEventListener('fullFixed', (e) => {\n      // console.log(e.detail.fullFixed)\n      setFixed(e.detail.fullFixed);\n    })\n  }, [])\n  return <PageHeader scroller={scroller} immersive={true}>\n    <div className={classnames({ ['header']: true })}>\n      <div className='header-goback' onClick={handleGoback}>\n        <img className='header-goback-icon' src={GobackIcon} />\n      </div>\n      <div className='header-title'>我的博客</div>\n      <div className='header-setting' onClick={openSettingModal}>\n        <img className='header-setting-icon' src={MoreIcon} />\n      </div>\n    </div>\n  </PageHeader>\n}","import React, { useRef, useEffect } from 'react';\nimport Modal from '@/components/PromisifyModal';\nimport Header from './components/Header';\nimport ArticlePage from './components/ArticleList';\nimport { viewport } from '@/utils';\nimport setBodyStyleProperty from '@/utils/setBodyStyleProperty';\nimport styles from './index.module.less';\n\nviewport();\n\nexport default function Article() {\n  const scroller = useRef(null);\n  useEffect(() => {\n    const theme = localStorage.getItem('--theme-color')\n    theme && setBodyStyleProperty('--theme-color', theme);\n  }, [])\n\n  return <Modal.Provider>\n    <div className={styles.wrap} ref={scroller}>\n      <Header scroller={scroller}></Header>\n      <div className={styles.article}>\n        <ArticlePage />\n      </div>\n\n    </div>\n  </Modal.Provider>\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".header {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-weight: bolder;\\n  font-size: 0.32rem;\\n  position: relative;\\n  background-color: var(--theme-color);\\n  color: #fff;\\n}\\n.header-content {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n.header-goback {\\n  position: absolute;\\n  left: 0.25rem;\\n}\\n.header-goback-icon {\\n  width: 0.4rem;\\n}\\n.header-setting {\\n  position: absolute;\\n  right: 0.25rem;\\n}\\n.header-setting-icon {\\n  width: 0.5rem;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Article/components/Header/index.less\"],\"names\":[],\"mappings\":\"AACA;EACE,WAAA;EACA,YAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,mBAAA;EACA,kBAAA;EACA,kBAAA;EACA,oCAAA;EACA,WAAA;AAAF;AAGA;EACE,aAAA;EACA,sBAAA;EACA,mBAAA;AADF;AAGA;EACE,kBAAA;EACA,aAAA;AADF;AAGA;EACE,aAAA;AADF;AAGA;EACE,kBAAA;EACA,cAAA;AADF;AAGA;EACE,aAAA;AADF\",\"sourcesContent\":[\"\\n.header{\\n  width:100%;\\n  height:100%;\\n  display:flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-weight: bolder;\\n  font-size: 0.32rem;\\n  position:relative;\\n  background-color:var(--theme-color);\\n  color:#fff;\\n}\\n\\n.header-content{\\n  display:flex;\\n  flex-direction: column;\\n  align-items:center;\\n}\\n.header-goback {\\n  position: absolute;\\n  left: 0.25rem;\\n}\\n.header-goback-icon{\\n  width:0.4rem;\\n}\\n.header-setting {\\n  position:absolute;\\n  right:0.25rem;\\n}\\n.header-setting-icon{\\n  width:0.5rem;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"p {\\n  line-height: 0.5rem;\\n}\\nul li,\\nol li {\\n  margin-left: 0.24rem;\\n}\\n.src-pages-Article-index-module__wrap--nXYc2 {\\n  width: 100%;\\n  height: 100%;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n  background-color: #e5e7eb;\\n}\\n.src-pages-Article-index-module__article--XXs1X {\\n  width: 7rem;\\n  margin-left: 0.25rem;\\n  margin-right: 0.25rem;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Article/index.module.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,mBAAA;AACF;AACA;;EACE,oBAAA;AAEF;AAEA;EACE,WAAA;EACA,YAAA;EACA,kBAAA;EACA,kBAAA;EACA,yBAAA;AAAF;AAEA;EACE,WAAA;EACA,oBAAA;EACA,qBAAA;AAAF\",\"sourcesContent\":[\"p{\\n  line-height: 0.5rem;\\n}\\nul li,ol li{\\n  margin-left:0.24rem;\\n}\\n\\n\\n.wrap{\\n  width:100%;\\n  height:100%;\\n  overflow-x:hidden;\\n  overflow-y:scroll;\\n  background-color:#e5e7eb;\\n}\\n.article{\\n  width:7rem;\\n  margin-left:0.25rem;\\n  margin-right:0.25rem;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"wrap\": \"src-pages-Article-index-module__wrap--nXYc2\",\n\t\"article\": \"src-pages-Article-index-module__article--XXs1X\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./index.less\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./index.module.less\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"article\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkxingguozm_github_io\"] = self[\"webpackChunkxingguozm_github_io\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors-node_modules_classnames_index_js-node_modules_css-loader_dist_runtime_api_js-node_mod-02448e\",\"vendors-node_modules_highlight_js_styles_xcode_css-node_modules_highlight_js_lib_index_js\",\"src_components_PageHeader_index_tsx-src_components_PromisifyModal_SettingModal_index_tsx-src_-795e93\"], () => (__webpack_require__(\"./src/article.tsx\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["React","ReactDOM","Article","App","render","document","querySelector","作用域","原型链","compKeys","CompMap","id","location","search","split","useEffect","hljs","require","querySelectorAll","forEach","el","style","backgroundColor","highlightElement","fontSize","__html","useState","PageHeader","SettingModal","MoreIcon","GobackIcon","Modal","classnames","data","Header","scroller","fixed","setFixed","handleGoback","window","href","openSettingModal","show","theme","addEventListener","e","detail","fullFixed","useRef","ArticlePage","viewport","setBodyStyleProperty","styles","localStorage","getItem","wrap","article"],"sourceRoot":""}